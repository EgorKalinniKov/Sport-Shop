@{
    Layout = "~/Views/Shared/_LayoutAuth.cshtml";
    ViewBag.Title = "BanUser";
}

@using System.Web.Optimization
@model eUseControl.Web.Models.User.UserSearch

<!-- SECTION -->
<div class="section">
    <!-- container -->
    <div class="container">
        <!-- row -->
        <div class="row">
                <!-- ASIDE -->
                <div id="aside" class="col-md-3">
                    <!-- aside Widget -->
                    <div class="aside">
                        <h3 class="aside-title">Number</h3>
                        <ul class="aside">
                            <li><a href="@Url.Action("Index", "Admin")">Number</a></li>
                            <li><a href="@Url.Action("NewProduct", "Admin")">New product</a></li>
                            <li><a href="@Url.Action("Products", "Admin")">Products</a></li>
                            <li><a href="@Url.Action("DeleteProduct", "Admin")">Delete product</a></li>
                            <li><a href="@Url.Action("Users", "Admin")">View users</a></li>
                            <li><a class="active" href="">Ban User</a></li>
                            <li><a href="@Url.Action("Comments", "Admin")">View comments</a></li>
                            <li><a href="@Url.Action("Logout", "Admin")">Logout</a></li>
                        </ul>
                    </div>
                </div>
                <!-- /ASIDE -->
                <div class="col-sm-8">
                    <div class="section-title">
                        <h3 class="title">Ban User</h3>
                    </div>
                    <div class="row">
                        @using (Html.BeginForm("BanUser", "Admin", FormMethod.Post, new { @id = "FilterForm" }))
                        {
                            <div class="col-sm-4">
                                <div class="store-sort">
                                    <label>
                                        <select class="input-select" name="@Html.NameFor(x => x.Sort)" id="@Html.IdFor(x => x.Sort)">
                                            <option class="active" value="FromAToZ">A to Z</option>
                                            <option value="FromZToA">Z to A</option>
                                        </select>
                                    </label>
                                </div>
                            </div>
                            <div class="col-sm-8">
                                <div class="header-search">
                                    <input class="input" id="@Html.IdFor(x=>x.SelectedName)" name="@Html.NameFor(x=>x.SelectedName)" placeholder="Search here">
                                    <button class="search-btn">Search</button>
                                </div>
                            </div>
                        }
                    </div>
                    <div class="col-sm-4">
                        <ul class="reviews">
                            @foreach (var u in Model.Users)
                            {
                                <li>
                                    <div class="review-heading">
                                        <h5 class="name">@u.Username</h5>
                                        <p class="email">@u.Email</p>
                                        @if (u.Level == eUseControl.Domain.Enums.URole.Banned)
                                        {
                                            <p>banned</p>
                                            <p>Until: @u.BanTime </p>
                                        }
                                    </div>
                                    <div class="review-body">
                                        @using (Html.BeginForm("UserBan", "Admin", FormMethod.Post, new { @id = "BanForm" }))
                                        {
                                            <div class="col-md-5">
                                                <input type="date" name="@Html.NameFor(x => x.BanTime)" id="@Html.IdFor(x => x.BanTime)">
                                                <input hidden name="@Html.NameFor(x => x.Id)" id="@Html.IdFor(x => x.Id)" value="@u.Id">
                                                <button type="submit" class="primary-btn">Ban</button>
                                            </div>
                                        }
                                    </div>
                                </li>
                            }
                        </ul>
                        </div>
                    </div>
                </div>
            <!-- /row -->
        </div>
    <!-- /container -->
</div>
<!-- /SECTION -->